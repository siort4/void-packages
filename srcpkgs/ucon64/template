# Template file for 'ucon64'
pkgname=ucon64
version=2.2.2
revision=1
build_wrksrc=src
build_style=gnu-configure
configure_args="--with-libcd64 --enable-ansi-color --with-libdiscmage --with-libusb --with-zlib "
hostmakedepends="tar"
makedepends="libusb-compat-devel zlib-devel"
short_desc="Multipurpose video game ROM image and backup utility"
maintainer="siort4 <siort@posteo.net>"
license="GPL-2.0-or-later"
homepage="https://ucon64.sourceforge.io"
distfiles="$SOURCEFORGE_SITE/${pkgname}/${pkgname}-${version}-src.tar.gz"
checksum=e100ad4a30f6c19abde98e361c6a0ecac4e40477f54cfb75498c5ccd21fb3a18

case "${XBPS_TARGET_MACHINE}" in
(i686|x86_64|x86_64-musl) configure_args+="--enable-parallel" ;;
(*) configure_args+="--disable-parallel" ;;
esac

do_install() {
	vcopy libdiscmage/discmage.so /usr/lib/libdiscmage.so

	vbin ucon64
}
